<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel</title>
  <style>
    body { background: #121212; color: white; font-family: sans-serif; padding: 20px; }
    input, select { width: 100%; padding: 10px; margin: 6px 0; background: #1f1f1f; border: 1px solid #333; color: white; border-radius: 5px; }
    .btn { padding: 10px; margin: 5px 5px 0 0; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
    .btn-add { background: #00e676; color: #111; }
    .btn-edit { background: #2196f3; color: white; }
    .btn-delete { background: #f44336; color: white; }
    .section { margin-top: 40px; }
    .entry { background: #1e1e1e; padding: 10px; margin-top: 10px; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .entry span { flex: 1; margin-right: 10px; }
    a { color: #00e676; }
  </style>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, getDocs, addDoc, updateDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_BUCKET",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const pass = prompt("Enter admin password:");
    if (pass !== "letmein123") {
      alert("Access Denied");
      location.href = "index.html";
    }

    // Predictions
    const predictionsRef = collection(db, "predictions");
    async function renderPredictions() {
      const snapshot = await getDocs(predictionsRef);
      const out = document.getElementById("prediction-list");
      out.innerHTML = "";
      snapshot.forEach((docSnap) => {
        const p = docSnap.data();
        out.innerHTML += `
          <div class="entry"><span>${p.match} | ${p.time} | ${p.tip}</span>
            <button class="btn btn-edit" onclick='editPrediction("${docSnap.id}", "${p.match}", "${p.time}", "${p.tip}")'>Edit</button>
            <button class="btn btn-delete" onclick='deletePrediction("${docSnap.id}")'>Delete</button>
          </div>`;
      });
    }

    async function addPrediction() {
      const match = document.getElementById("pred-match").value.trim();
      const time = document.getElementById("pred-time").value.trim();
      const tip = document.getElementById("pred-tip").value.trim();
      if (!match || !time || !tip) return alert("Fill all fields");
      await addDoc(predictionsRef, { match, time, tip });
      renderPredictions();
    }

    async function editPrediction(id, match, time, tip) {
      const newMatch = prompt("Match", match);
      const newTime = prompt("Time", time);
      const newTip = prompt("Tip", tip);
      if (newMatch && newTime && newTip) {
        const docRef = doc(db, "predictions", id);
        await updateDoc(docRef, { match: newMatch, time: newTime, tip: newTip });
        renderPredictions();
      }
    }

    async function deletePrediction(id) {
      await deleteDoc(doc(db, "predictions", id));
      renderPredictions();
    }

    window.addPrediction = addPrediction;
    window.editPrediction = editPrediction;
    window.deletePrediction = deletePrediction;
    window.onload = renderPredictions;
  </script>
</head>
<body>

<h1>üîê Admin Panel</h1>

<!-- Predictions Section Only (Firestore) -->
<div class="section">
  <h2>üìà Predictions</h2>
  <input id="pred-match" placeholder="Match">
  <input id="pred-time" placeholder="Time">
  <input id="pred-tip" placeholder="Tip">
  <button class="btn btn-add" onclick="addPrediction()">Add</button>
  <div id="prediction-list"></div>
</div>

<!-- Other Sections (Accumulator, History, Bookmakers) to be migrated similarly -->

</body>
</html>
